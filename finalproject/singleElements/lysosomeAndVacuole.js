// DOMAINS

var domain1 = INTERVALS(1)(100);
var domain2 = DOMAIN([[0,1],[0,1]])([100,100]);
var domain3 = DOMAIN([[0,1],[0,1],[0,1]])([25,25,1]);

// COLORS - All colors are normalized.

var mattLightYellow = [255/255, 215/255, 0,1];
var mattGold = [218/255, 165/255, 32/255,1];
var mattOrange = [255/255, 165/255, 0, 1];
var mattDarkOrange = [255/255, 140/255, 0, 1];

/* This function creates an array of knots used by the function nubs. The function takes as input an array of control points. It returns an array of knots. 

   INPUT - An array of points

   OUTPUT - An array of knots.

*/

function knots (point) {
  var k = 2; 
  var m =point.length;
  var n = (m + k + 1);
  var first = 1;
  var last = n - 3;

  var knots = [];

  for (var i = 0; i < 3; i++) {
     knots[i] = 0;
    };

  for (var i = 3; i < last; i++,first++) {
     knots[i] = first;

    };

  for (var i = last; i < n; i++) {
     knots[i] = first;
    };

  return knots;
};

/* This function creates a curve with the function Nubs. The function takes as input an array of control points. It returns to the curve. 

   INPUT - An array of points
   
   OUTPUT - A curve built with the function NUBS

*/

function createNubs (point) {
	
	var knots1 = knots(point);
	var c1 = NUBS(S0)(2)(knots1)(point);
  //var c1Map = MAP(c1)(domain1)
  //DRAW(c1Map)
		return c1;
}

/* This function creates a Bezier curve. The function takes as input an array of curves. It returns to the Bezier curve. 

   INPUT - An array of curves

   OUTPUT - A Bezier curve

*/

function createBezierS1(curves) {
  var b1 = BEZIER(S1)(curves);
  //var b1Map = MAP(b1)(domain2);
  //DRAW(b1Map)
  return b1;
}

/* This function creates a Bezier curve. The function takes as input an array of curves and a color. It returns to the drawing of curves. 

   INPUT - An array of curves and a color

*/

function createBezierS2 (curves, color) {
  var b1 = BEZIER(S2)(curves);
  var b1Map = MAP(b1)(domain3);
  return DRAW(COLOR(color)(b1Map));
}

/* This function takes an array as input and reverses it. It returns the reversed array. 
   
   INPUT - An array 

   OUTPUT - A reversed array 

*/

function reverseR(array) {
  var arrayReturn = [];
  var j = 0;
  for(var i = array.length-1; i>=0; i--) {
        
        arrayReturn[j] = array[i];
        j++;
  }
  return arrayReturn;
}

/* This function modifies the third element in an array. It takes in input an array of points and a quantity z. It returns to the modified array. 
 
   INPUT - An array of control points and a quatity z.

   OUTPUT - A modified array. 

*/

function modifyZ(points, z) {
  var pointsNew = [];
  pointsNew[0]=points[0];
  pointsNew[1] = points[1];
  pointsNew[2] = points[2]+z;
  return pointsNew;
}

/* This function creates a new array of control points that are modified. It takes in input and array of control points and a breadth. It returns the modified array.
 
   INPUT - An array of control points and a breadth.

   OUTPUT - A modified array. 

*/

function createControls(controls, breadth) {
  var controlsRet = [];
    controlsRet[0] = controls[0];
    controlsRet[1] = modifyZ(controls[1], breadth)
    controlsRet[2] = modifyZ(controls[2], breadth)
    controlsRet[3] = controls[3];
    return controlsRet; 
}

/* This function creates a Bezier curve. It takes in input an initial point, a final point and an array of points. It returns the Bezier curve. 
 
   INPUT - An initial point, a final point and an array of points.

   OUTPUT - A Bezier curve. 

*/

function createCurveSurface(pointStart, pointFinal, points) {
  var nubs = [];
  nubs.push(pointStart);
  var j = 1;
  for(var i=0; i<points.length; i++) {
      nubs[j] = createNubs(points[i]);
      DRAW(nubs[j]);
      j++;
  }
  nubs.push(pointFinal);

  return createBezierS1(nubs);
    }

/* This function creates a Bezier curve. It takes in input a final point and an array of points. It returns the Bezier curve. 
 
   INPUT - A final point and an array of points.

   OUTPUT - A Bezier curve. 

*/

  function createCurveSurface2(pointFinal, points) {
  var nubs = [];
 
  var j = 0;
  for(var i=0; i<points.length; i++) {
      nubs[j] = createNubs(points[i]);
      DRAW(nubs[j]);
      j++;
  }
  nubs.push(pointFinal);
  return createBezierS1(nubs);
    }

/* This function reverses the order of an array of points. It takes in input an array of control points. It returns to the modified array. 
 
   INPUT - An array of control points.

   OUTPUT - A modified array. 

*/

function reticulumTransformation(controls) {
  var arr = [];
    for(var i=0; i<controls.length; i++) {
    for(var j=0; j<3; j++) {
        var arr2 = [];
        arr2[j+2] = -(controls[i][j]);
        arr2[j+1] = controls[i][j+1];
        arr2[j] = controls[i][j+2];
        j+=3;
        arr.push(arr2);
       
    }
     
  }
  return arr;
}


/* This function translates an array of points. It takes in input an array of control points and three breadths for each coordinate of the Cartesian Plane. It returns to the modified array. 
 
   INPUT - An array of control points and three breadths.

   OUTPUT - A modified array. 

*/

function controlsPointTranslation(controls, dx, dy, dz) {
  var arr = [];
    for(var i=0; i<controls.length; i++) {
    for(var j=0; j<3; j++) {
        var arr2 = [];
        arr2[j] = controls[i][j]+dx;
        arr2[j+1] = controls[i][j+1]+dy;
        arr2[j+2] = controls[i][j+2]+dz;
        j+=3;
        arr.push(arr2);
       
    }
     
  }
  return arr;
}

/* This function modifies an array of points. It takes in input an array of control points. It returns to the modified array. 
 
   INPUT - An array of control points.

   OUTPUT - A modified array. 

*/

function controlsPointTransformation(controls) {
  var arr = [];
    for(var i=0; i<controls.length; i++) {
    for(var j=0; j<3; j++) {
        var arr2 = [];
        arr2[j] = controls[i][j+2];
        arr2[j+1] = controls[i][j];
        arr2[j+2] = (-1)*controls[i][j+1];
        j+=3;
        arr.push(arr2);
       
    }
     
  }
  return arr;
}


//---------------------------------------------------BIG LYSOSOME BETWEEN MITOCHONDRION1 AND GOLGI--------------------------------------------------------------------------------------

var controls31 = [[375.7725524902344,91.51885223388672,0],[380.6543273925781,91.36629486083984,-4],[386.6802673339844,91.21373748779297,-4],[392.24853515625,91.2900161743164,0]]
var controls32 = [[370.3568420410156,94.7225112915039,0],[378.21343994140625,94.49368286132812,-10],[388.51092529296875,94.41740417480469,-10],[398.1982116699219,94.56996154785156,0]]
var controls33 = [[367.1531677246094,98.68895721435547,0],[376.0776672363281,98.68895721435547,-15],[390.79925537109375,98.30756378173828,-15],[402.6985778808594,98.7652359008789,0]]
var controls34 = [[363.7206726074219,104.2572250366211,0],[373.10284423828125,104.18094635009766,-18],[392.6299133300781,103.87583923339844,-18],[405.5971374511719,103.64700317382812,0]]
var controls35 = [[362.5765075683594,109.97805786132812,0],[369.59405517578125,109.82550048828125,-20],[396.8251953125,109.13899993896484,-20],[407.42779541015625,109.13899993896484,0]]
var controls36 = [[362.3476867675781,115.1649398803711,0],[372.7977294921875,114.93610382080078,-18],[392.55364990234375,114.40216064453125,-18],[407.50408935546875,114.47843933105469,0]]
var controls37 = [[364.40716552734375,122.64015197753906,0],[375.4674377441406,122.2587661743164,-15],[390.9518127441406,122.18248748779297,-15],[404.3004150390625,123.25037384033203,0]]
var controls38 = [[368.8312683105469,128.51353454589844,0],[378.3659973144531,128.74237060546875,-10],[388.8160400390625,128.74237060546875,-10],[399.113525390625,129.27630615234375,0]]
var controls39 = [[374.0181579589844,132.40370178222656,0],[380.1203918457031,132.93763732910156,-4],[387.44305419921875,132.86135864257812,-4],[392.7062072753906,133.013916015625,0]]


var curveExLYSOSOME = createCurveSurface([383.7054443359375,90.45096588134766+0.5,0],[383.7817077636719,134.23435974121094-0.9,0], [controls31, controls32, controls33, controls34, controls35, controls36, controls37, controls38, controls39]);
DRAW(COLOR(mattGold)(MAP(curveExLYSOSOME)(domain3)));

var controlli40 = [[378.6711120605469,94.56996154785156,0],[383.32403564453125,94.56996154785156,-4],[388.0532531738281,94.49368286132812,-4],[392.6299133300781,94.49368286132812,0]]
var controlli41 = [[371.95867919921875,98.23128509521484,0],[381.11199951171875,98.00245666503906,-10],[390.18902587890625,97.69734191894531,-10],[397.5116882324219,97.69734191894531,0]]
var controlli42 = [[368.44989013671875,102.50283813476562,0],[377.9083251953125,102.1977310180664,-15],[393.08758544921875,102.12145233154297,-15],[401.4781494140625,102.42655944824219,0]]
var controlli43 = [[365.7038879394531,110.13060760498047,0],[374.8572082519531,109.59666442871094,-18],[396.0624084472656,109.44410705566406,-18],[404.3766784667969,109.74922180175781,0]]
var controlli44 = [[366.8480529785156,119.20765686035156,0],[377.298095703125,118.90254211425781,-15],[393.2401428222656,118.74999237060547,-15],[403.38507080078125,119.05509948730469,0]]
var controlli45 = [[370.9670715332031,125.4624252319336,0],[380.806884765625,125.15731811523438,-10],[390.7229919433594,124.92848205566406,-10],[399.41864013671875,125.15731811523438,0]]
var controlli46 = [[377.9083251953125,130.191650390625,0],[383.32403564453125,130.11537170410156,-4],[388.3583679199219,129.9628143310547,-4],[392.8587646484375,129.88653564453125,0]]

var curveINLYSOSOME = createCurveSurface([385.5361022949219,93.27323913574219+1,0],[385.91748046875,131.41209411621094-1,0], [controlli40, controlli41,controlli42, controlli43, controlli44, controlli45, controlli46]);


createBezierS2([curveINLYSOSOME, curveExLYSOSOME], mattLightYellow)


//-------------------------------------------------------------SMALL LYSOSOME BETWEEN MITOCHONDRION1 AND GOLGI----------------------------------------------------------------------------

var controls47 = [[321.4823913574219,90.77963256835938,0],[325.32208251953125,90.55039978027344,-2],[330.0213623046875,90.43578338623047,-2],[333.6318054199219,90.43578338623047,0]]
var controls48 = [[317.3561706542969,93.93160247802734,0],[323.25897216796875,93.75968170166016,-5],[331.8552551269531,93.75968170166016,-5],[337.35687255859375,93.75968170166016,0]]
var controls49 = [[315.2930603027344,97.59935760498047,0],[320.794677734375,97.48473358154297,-8],[334.26220703125,97.48473358154297,-8],[339.9357604980469,97.48473358154297,0]]
var controls50 = [[314.2615051269531,102.01211547851562,0],[316.95501708984375,101.95480346679688,-13],[336.9557189941406,101.66825866699219,-13],[340.8526916503906,101.78288269042969,0]]
var controls51 = [[315.4649963378906,106.53948974609375,0],[320.96661376953125,106.65410614013672,-8],[334.491455078125,106.31025695800781,-8],[339.9357604980469,106.25294494628906,0]]
var controls52 = [[318.1011962890625,111.18148040771484,0],[323.3735656738281,111.46802520751953,-5],[332.37103271484375,111.2387924194336,-5],[337.0703125,111.35340881347656,0]]
var controls53 = [[322.2274169921875,113.81768035888672,0],[325.32208251953125,113.81768035888672,-2],[330.30792236328125,113.70306396484375,-2],[333.34527587890625,113.645751953125,0]]

var curveExSmallLYSOSOME1 = createCurveSurface([327.7290344238281,89.92000579833984+0.4,0],[328.5886535644531,114.04691314697266,0], [controls47, controls48, controls49, controls50, controls51, controls52, controls53]);
DRAW(COLOR(mattGold)(MAP(curveExSmallLYSOSOME1)(domain3)));

var controls54 = [[323.07818603515625,94.1949462890625,0],[327.08978271484375,94.25225067138672,-2],[329.03826904296875,94.25225067138672,-2],[333.107177734375,94.1949462890625,0]]
var controls55 = [[319.5823669433594,98.20654296875,0],[324.6255187988281,97.91999816894531,-6],[331.6744689941406,97.80538177490234,-6],[336.8895568847656,97.8626937866211,0]]
var controls56 = [[319.1239013671875,102.10352325439453,0],[322.10394287109375,101.98890686035156,-10],[334.6545104980469,101.8742904663086,-10],[337.6918640136719,101.8742904663086,0]]
var controls57 = [[320.2700500488281,106.6882095336914,0],[324.79742431640625,106.45897674560547,-6],[331.6744689941406,106.22974395751953,-6],[336.94683837890625,106.17243194580078,0]]
var controls58 = [[323.70855712890625,110.52788543701172,0],[327.20440673828125,110.41326904296875,-2],[329.4394226074219,110.41326904296875,-2],[333.27911376953125,110.29865264892578,0]]

var curveInSmallLYSOSOME1 = createCurveSurface([328.2359619140625,93.27800750732422+0.4,0],[328.4651794433594,110.9863510131836-0.2,0], [controls54, controls55, controls56, controls57, controls58]);

createBezierS2([curveExSmallLYSOSOME1, curveInSmallLYSOSOME1], mattLightYellow);

//---------------------------------------------------------BIG LYSOSOME UNDER GOLGI-------------------------------------------------------------------------------------------

var controls54 = [[514.4879760742188,298.7884521484375,0],[522.4208374023438,298.48333740234375,-4],[527.531494140625,298.4070739746094,-4],[534.77783203125,298.48333740234375,0]]
var controls55 = [[509.2248229980469,302.7548828125,0],[520.2088012695312,302.3735046386719,-8],[530.1249389648438,302.1446838378906,-8],[539.1256713867188,302.0683898925781,0]]
var controls56 = [[505.4872131347656,308.24688720703125,0],[516.3948974609375,308.0943298339844,-13],[534.0150756835938,307.8655090332031,-13],[543.7023315429688,307.7892150878906,0]]
var controls57 = [[503.1988830566406,316.5611572265625,0],[510.6741027832031,316.33233642578125,-15],[539.9647216796875,316.25604248046875,-15],[545.9906616210938,316.25604248046875,0]]
var controls58 = [[505.94488525390625,327.16375732421875,0],[516.2423706054688,326.7060852050781,-13],[534.0150756835938,326.0958557128906,-13],[544.083740234375,326.01959228515625,0]]
var controls59 = [[510.82666015625,332.65576171875,0],[520.4376220703125,332.35064697265625,-8],[530.5062866210938,332.0455322265625,-8],[539.6596069335938,332.1217956542969,0]]
var controls60 = [[516.7763061523438,336.1645202636719,0],[522.1920166015625,336.0882568359375,-4],[527.8365478515625,335.9356994628906,-4],[533.9387817382812,335.78314208984375,0]]

var curveExBigLYSOSOMEUnderGolgi = createCurveSurface([524.7091674804688,297.4917297363281,0],[525.2431640625,336.6984558105469,0], [controls54, controls55, controls56, controls57, controls58, controls59, controls60]);
DRAW(COLOR(mattGold)(MAP(curveExBigLYSOSOMEUnderGolgi)(domain3)));

var controls61 = [[516.8480834960938,301.72686767578125,0],[522.5689086914062,301.65057373046875,-1],[526.916748046875,301.65057373046875,-1],[533.3240966796875,301.5743103027344,0]]
var controls62 = [[510.9747009277344,306.6849060058594,0],[518.5261840820312,306.3797912597656,-3],[531.493408203125,306.1509704589844,-3],[539.8839721679688,305.9984130859375,0]]
var controls63 = [[507.4659423828125,317.13494873046875,0],[511.73748779296875,317.0586853027344,-8],[539.8076782226562,316.4484558105469,-8],[543.2401733398438,316.4484558105469,0]]
var controls64 = [[510.7458801269531,327.50872802734375,0],[518.6024780273438,327.50872802734375,-3],[532.2561645507812,327.3561706542969,-3],[540.2653198242188,327.3561706542969,0]]
var controls65 = [[517.2294921875,333.4583740234375,0],[523.4842529296875,333.4583740234375,-1],[527.5269775390625,333.4583740234375,-1],[533.09521484375,333.4583740234375,0]]

var curveInBigLYSOSOMEUnderGolgi = createCurveSurface([524.8572387695312,300.277587890625+0.7,0],[525.4674682617188,334.6025390625-0.7,0], [controls61, controls62, controls63, controls64, controls65]);
createBezierS2([curveExBigLYSOSOMEUnderGolgi, curveInBigLYSOSOMEUnderGolgi], mattLightYellow);

//------------------------------------------------SMALL LYSOSOME UNDER GOLGI-----------------------------------------------------------------------------

var controls61 = [[458.1893005371094,339.0818176269531,0],[463.97625732421875,338.7772521972656,-4],[468.544921875,338.7772521972656,-4],[474.3318786621094,338.8787536621094,0]]
var controls62 = [[451.89471435546875,345.4779357910156,0],[460.32135009765625,345.07183837890625,-9],[472.1998291015625,344.9703063964844,-9],[481.2356262207031,344.8687744140625,0]]
var controls63 = [[449.55963134765625,353.4984436035156,0],[455.5496520996094,353.4984436035156,-15],[480.3218994140625,353.29541015625,-15],[483.5707092285156,353.3969421386719,0]]
var controls64 = [[452.40234375,362.3311767578125,0],[460.1182861328125,361.9250793457031,-9],[472.09832763671875,361.6205139160156,-9],[481.0325622558594,361.6205139160156,0]]
var controls65 = [[458.0877685546875,368.21966552734375,0],[464.2808532714844,368.4227294921875,-4],[469.35711669921875,368.4227294921875,-4],[474.3318786621094,368.3211975097656,0]]

var curveExSmallLYSOSOMEUnderGolgi = createCurveSurface([466.6159362792969,337.2543640136719+1.2,0],[467.5296630859375,369.1333923339844-1,0], [controls61, controls62, controls63, controls64, controls65]);
DRAW(COLOR(mattGold)(MAP(curveExSmallLYSOSOMEUnderGolgi)(domain3)));

var controls66 = [[460.978271484375,341.1583557128906,0],[465.7837829589844,341.1583557128906,-1],[469.1399841308594,341.1583557128906,-1],[473.5640869140625,341.1583557128906,0]]
var controls67 = [[456.9355773925781,345.2010498046875,0],[462.8089599609375,345.04852294921875,-5],[471.4283142089844,344.97222900390625,-5],[478.44586181640625,344.97222900390625,0]]
var controls68 = [[454.1895751953125,353.8204345703125,0],[459.2239074707031,353.6678771972656,-10],[477.5305480957031,353.51531982421875,-10],[481.34442138671875,353.59161376953125,0]]
var controls69 = [[456.9355773925781,362.13470458984375,0],[461.81732177734375,362.13470458984375,-5],[471.5046081542969,361.9058837890625,-5],[478.9798278808594,361.6770324707031,0]]
var controls70 = [[462.8852233886719,366.3299865722656,0],[466.241455078125,366.2536926269531,-1],[469.5213928222656,366.3299865722656,-1],[472.419921875,366.2536926269531,0]]

var curveInSmallLYSOSOMEUnderGolgi = createCurveSurface([467.4618835449219,340.0904541015625+1,0],[468.3009338378906,366.9402160644531-1,0], [controls66, controls67, controls68, controls69, controls70]);
createBezierS2([curveExSmallLYSOSOMEUnderGolgi, curveInSmallLYSOSOMEUnderGolgi], mattLightYellow);


//--------------------------------------------------------------VACUOLE UNDER GOLGI---------------------------------------------------------------------------------------------

var controls71 = [[451.6814880371094,408.321533203125,0],[455.7503967285156,408.26422119140625,-4],[460.2204895019531,408.14959716796875,-4],[464.0028381347656,408.09228515625,0]]
var controls72 = [[448.6441345214844,411.4161682128906,0],[452.7703552246094,411.7027282714844,-7],[462.5128173828125,412.6196594238281,-7],[467.9571228027344,413.25006103515625,0]]
var controls73 = [[446.7529602050781,414.6254577636719,0],[449.9622497558594,415.3704833984375,-13],[463.71630859375,418.9236145019531,-13],[467.44134521484375,419.8978576660156,0]]
var controls74 = [[445.1483154296875,418.1785888671875,0],[447.6698913574219,418.98089599609375,-17],[463.6016845703125,424.42523193359375,-17],[465.72210693359375,425.1129150390625,0]]
var controls75 = [[442.454833984375,421.27325439453125,0],[443.7156066894531,422.0182800292969,-20],[460.73626708984375,429.5830078125,-20],[461.767822265625,430.0987854003906,0]]
var controls76 = [[438.5005187988281,424.6544494628906,0],[442.5121154785156,427.23333740234375,-17],[452.25457763671875,433.9384460449219,-17],[455.8077087402344,436.2308044433594,0]]
var controls77 = [[433.4000549316406,428.3795166015625,0],[438.958984375,432.5057373046875,-13],[444.8617858886719,436.6319580078125,-13],[449.9622497558594,440.414306640625,0]]
var controls78 = [[430.1907958984375,431.8753356933594,0],[435.8070373535156,436.4027099609375,-7],[439.24554443359375,439.0962219238281,-7],[444.34600830078125,442.7066650390625,0]]
var controls79 = [[429.27386474609375,436.1734924316406,0],[433.7439270019531,439.38275146484375,-4],[435.6351013183594,440.6435546875,-4],[439.7613220214844,443.3370666503906,0]]

var curveExVacuoleUnderGolgi = createCurveSurface([457.69891357421875,407.3472595214844,0],[434.0877685546875,440.6435546875,0], [controls71, controls72, controls73, controls74, controls75, controls76, controls77, controls78, controls79]);
DRAW(COLOR(mattDarkOrange)(MAP(curveExVacuoleUnderGolgi)(domain3)));

var controls80 = [[454.0311584472656,410.4419250488281,0],[456.7819519042969,410.4419250488281,-2],[459.0169982910156,410.4419250488281,-2],[461.6531982421875,410.4419250488281,0]]
var controls81 = [[451.62420654296875,412.27581787109375,0],[455.3492431640625,412.9635009765625,-3],[459.1889343261719,413.7085266113281,-3],[464.40399169921875,414.5681457519531,0]]
var controls82 = [[449.33184814453125,415.5423889160156,0],[452.9996032714844,416.28741455078125,-4],[460.5643310546875,417.7201232910156,-4],[464.3466796875,418.5224304199219,0]]
var controls83 = [[447.15411376953125,419.7832336425781,0],[450.30609130859375,420.6428527832031,-5],[460.2204895019531,423.1644287109375,-5],[463.2578430175781,423.9667663574219,0]]
var controls84 = [[444.2886962890625,423.5655822753906,0],[449.21722412109375,425.1129150390625,-6],[456.2088623046875,427.57720947265625,-6],[459.9912414550781,428.9526062011719,0]]
var controls85 = [[441.5378723144531,426.0298767089844,0],[448.24298095703125,429.18182373046875,-5],[452.0826721191406,431.1303405761719,-5],[456.0369567871094,432.9642028808594,0]]
var controls86 = [[438.15667724609375,428.55145263671875,0],[443.37176513671875,431.8180236816406,-4],[446.0079650878906,433.53729248046875,-4],[451.1084289550781,436.46002197265625,0]]
var controls87 = [[435.11932373046875,430.9584045410156,0],[439.5893859863281,434.7407531738281,-3],[441.365966796875,436.1734924316406,-3],[445.1483154296875,439.6693115234375,0]]
var controls88 = [[432.7696838378906,434.28228759765625,0],[435.06201171875,437.376953125,-2],[435.5777893066406,438.1219787597656,-2],[437.010498046875,439.783935546875,0]]

var curveInVacuoleUnderGolgi = createCurveSurface([457.9281311035156,409.86883544921875,0],[434.14508056640625,437.9500427246094-1,0], [controls80, controls81, controls82, controls83, controls84, controls85, controls86, controls87, controls88]);
createBezierS2([curveExVacuoleUnderGolgi, curveInVacuoleUnderGolgi], mattOrange);


//-------------------------------------------------------------------------LYSOSOME UNDER VACUOLE-------------------------------------------------------------------------------------------------

var controls89 = [[406.4684753417969,476.531494140625,0],[412.1993408203125,476.3595886230469,-4],[416.6694030761719,476.3595886230469,-4],[421.25408935546875,476.3595886230469,0]]
var controls90 = [[402.2276306152344,481.6319580078125,0],[407.4427185058594,481.2308044433594,-5],[421.7125549316406,481.0588684082031,-5],[425.26568603515625,481.1161804199219,0]]
var controls91 = [[401.4826354980469,487.76397705078125,0],[403.7176513671875,487.76397705078125,-7],[424.6925964355469,487.99322509765625,-7],[427.1568603515625,487.99322509765625,0]]
var controls92 = [[402.97265625,494.06793212890625,0],[407.1561584472656,493.83868408203125,-5],[421.02484130859375,493.666748046875,-5],[425.4949035644531,493.4948425292969,0]]
var controls93 = [[407.3854064941406,498.07952880859375,0],[412.6004943847656,498.1941223144531,-4],[416.3828430175781,498.1941223144531,-4],[420.91021728515625,498.1941223144531,0]]

var curveExLYSOSOMEUnderVacuole = createCurveSurface([414.20513916015625,475.2707214355469+1,0],[414.6062927246094,499.05377197265625-1,0], [controls89, controls90, controls91, controls92, controls93]);
DRAW(COLOR(mattGold)(MAP(curveExLYSOSOMEUnderVacuole)(domain3)));

var controls94 = [[409.2192687988281,479.0530700683594,0],[412.7151184082031,479.0530700683594,-1],[414.95013427734375,479.0530700683594,-1],[417.8155517578125,478.9384460449219,0]]
var controls95 = [[406.2392272949219,482.3196716308594,0],[410.07891845703125,482.0331115722656,-2],[417.5290222167969,481.91851806640625,-2],[421.4833068847656,481.8612060546875,0]]
var controls96 = [[404.5773010253906,487.0189514160156,0],[406.92694091796875,486.961669921875,-3],[420.91021728515625,486.78973388671875,-3],[423.37451171875,486.8470458984375,0]]
var controls97 = [[405.6088562011719,492.0621337890625,0],[410.2508239746094,491.77557373046875,-2],[417.87286376953125,491.66094970703125,-2],[422.6867980957031,491.89019775390625,0]]
var controls98 = [[408.7034912109375,495.2713928222656,0],[412.8297119140625,495.3860168457031,-1],[415.5805358886719,495.3860168457031,-1],[419.01904296875,495.2713928222656,0]]

var curveInLYSOSOMEUnderVacuole = createCurveSurface([413.86126708984375,478.3080749511719+1,0],[414.3197326660156,496.2456359863281-1,0], [controls94, controls95, controls96, controls97, controls98]);
createBezierS2([curveExLYSOSOMEUnderVacuole, curveInLYSOSOMEUnderVacuole], mattLightYellow);

//---------------------------------------------------------------------LYSOSOME UNDER SMOOTH ENDOPLASMATIC RETICULUM--------------------------------------------------------------------------

var points1 = [[295.6826171875,521.6870727539062,0],[301.3271789550781,521.458251953125,-6],[306.6666259765625,521.3819580078125,-6],[312.2348937988281,521.3819580078125,0]]
var points2 = [[288.28369140625,526.8739624023438,0],[297.13189697265625,526.721435546875,-8],[310.5567932128906,526.6451416015625,-8],[319.0235900878906,526.56884765625,0]]
var points3 = [[285.0037536621094,532.9761962890625,0],[292.2501220703125,532.5947875976562,-12],[316.2013244628906,532.1371459960938,-12],[322.37982177734375,532.1371459960938,0]]
var points4 = [[284.3172607421875,539.0784301757812,0],[287.5209045410156,539.0784301757812,-15],[320.7779846191406,538.6207275390625,-15],[323.2188720703125,538.54443359375,0]]
var points5 = [[284.7749328613281,545.409423828125,0],[292.63153076171875,545.2568969726562,-12],[316.43017578125,544.7992553710938,-12],[322.5323791503906,544.7992553710938,0]]
var points6 = [[289.12274169921875,551.9693603515625,0],[296.8267822265625,552.1218872070312,-8],[311.0144348144531,552.0455932617188,-8],[317.7268981933594,552.1981811523438,0]]
var points7 = [[294.6910095214844,556.4697265625,0],[300.94580078125,556.6222534179688,-6],[306.1326599121094,556.5460205078125,-6],[312.3111572265625,556.6222534179688,0]]

var curveExLYSOSOMEUnderSmoothEndoplasmaticReticulum = createCurveSurface([304.302001953125,520.23779296875+1,0],[303.76806640625,557.7664184570312-1,0], [points1, points2, points3, points4, points5, points6, points7]);
DRAW(COLOR(mattGold)(MAP(curveExLYSOSOMEUnderSmoothEndoplasmaticReticulum)(domain3)));

var points8 = [[297.9248046875,524.202392578125,0],[302.2904052734375,524.202392578125,-1],[306.656005859375,524.100830078125,-1],[310.4124755859375,524.3038940429688,0]]
var points9 = [[292.44244384765625,527.552734375,0],[299.2446594238281,527.3496704101562,-2],[309.2956848144531,527.1466064453125,-2],[315.38720703125,527.0451049804688,0]]
var points10 = [[289.5997009277344,532.0198364257812,0],[296.5034484863281,531.9183349609375,-3],[313.4582214355469,531.9183349609375,-3],[318.63604736328125,531.7152709960938,0]]
var points11 = [[287.4676818847656,539.53271484375,0],[291.934814453125,539.4312133789062,-4],[317.417724609375,539.2281494140625,-4],[320.66656494140625,539.1266479492188,0]]
var points12 = [[289.193603515625,546.6395263671875,0],[296.3004150390625,546.7410278320312,-3],[313.3567199707031,546.5380249023438,-3],[319.0421447753906,546.4364624023438,0]]
var points13 = [[293.5592041015625,551.3096923828125,0],[298.635498046875,551.4112548828125,-2],[309.0926208496094,551.4112548828125,-2],[314.9811096191406,551.4112548828125,0]]
var points14 = [[296.9095458984375,554.2539672851562,0],[302.5950012207031,554.2539672851562,-1],[306.4529724121094,554.35546875,-1],[310.717041015625,554.2539672851562,0]]

var curveInLYSOSOMEUnderSmoothEndoplasmaticReticulum = createCurveSurface([304.6255187988281,523.39013671875+1,0],[304.52398681640625,554.8630981445312-1,0], [points8, points9, points10, points11, points12, points13, points14]);
createBezierS2([curveExLYSOSOMEUnderSmoothEndoplasmaticReticulum, curveInLYSOSOMEUnderSmoothEndoplasmaticReticulum], mattLightYellow);